name: Validate user permissions 

runs:
  using: "composite"
  steps:
    - run: |
            if [[ ${{ env.envirement }} == "dev" ]];then
               echo "Pass validation in the development environment"
               exit 0
            fi
             if [[ ${{ env.config_deployment_permitted }} != *"${{ github.actor }}"* ]];then
               echo "::error::No deployment permissions have been granted to the user : ${{ github.actor }}"
               exit 1
            fi
            if [[ "${{github.repository}}" != "elementor/"* ]];then
               echo "::error::The deployment cannot start outside the elementor organization"
               exit 1
            fi
      shell: bash



  
